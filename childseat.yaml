metadata:
  name: childseat
  labels:
    nuclio.io/project-name: fd1d6425-8737-4f9f-8a48-d673cc4981e5
spec:
  handler: "main:handler"
  runtime: nodejs
  resources: {}
  image: "nuclio/processor-childseat:latest"
  minReplicas: 1
  maxReplicas: 1
  targetCPU: 75
  triggers:
    seat:
      class: ""
      kind: mqtt
      url: "guest:guest@10.0.2.15:1883"
      attributes:
        subscriptions:
          - qos: 0
            topic: babycare/childseat
  version: 1
  build:
    image: ""
    noCache: false
    offline: false
    dependencies: []
    runtimeAttributes:
      repositories: []
    functionSourceCode: DQoNCnZhciBhbXFwID0gcmVxdWlyZSgnYW1xcGxpYicpOw0KDQphc3luYyBmdW5jdGlvbiBsb2dnZXIobXNnKSB7DQogICAgY29uc3QgY29ubiA9IGF3YWl0IGFtcXAuY29ubmVjdCgnYW1xcDovL2d1ZXN0Omd1ZXN0QDEwLjAuMi4xNTo1NjcyJykNCiAgICBjb25zdCBjaGFubmVsID0gYXdhaXQgY29ubi5jcmVhdGVDaGFubmVsKCk7DQogICAgYXdhaXQgY2hhbm5lbC5hc3NlcnRFeGNoYW5nZSgnYmFieWNhcmUvbG9nZ2VyJywgJ2RpcmVjdCcsIHsgZHVyYWJsZTogZmFsc2UgfSk7DQogICAgDQogICAgYXdhaXQgY2hhbm5lbC5wdWJsaXNoKCJiYWJ5Y2FyZS9sb2dnZXIiLCJjaGlsZHNlYXQiLCBuZXcgQnVmZmVyLmZyb20obXNnKSk7DQogDQogICAgYXdhaXQgY2hhbm5lbC5jbG9zZSgpOw0KICAgIGF3YWl0IGNvbm4uY2xvc2UoKTsNCn0NCg0KZXhwb3J0cy5oYW5kbGVyID0gZnVuY3Rpb24gKGNvbnRleHQsIGV2ZW50KSB7DQogICAgdmFyIF9ldmVudCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZXZlbnQpKTsNCiAgICB2YXIgX2RhdGEgPSAoX2V2ZW50LmJvZHkuZGF0YSk7DQogICAgDQogICAgLy9sZXQgcm91dD1ldmVudC5oZWFkZXJzLlJlZmVyZXIuc3BsaXQoIi8iKTsNCiAgICAvL2xldCBuYW1lPXJvdXRbcm91dC5sZW5ndGgtMl0udG9TdHJpbmcoKTsNCiAgICAvL2NvbnRleHQuY2FsbGJhY2sobmFtZSk7DQogICAgY29udGV4dC5jYWxsYmFjaygiZmVlZGJhY2t0ICIgKyBfZGF0YSk7DQoNCiAgICBsb2dnZXIoX2RhdGEpOw0KfTsNCg==
    commands:
      - 'npm install amqplib'
    codeEntryType: sourceCode
  platform: {}
  readinessTimeoutSeconds: 60
